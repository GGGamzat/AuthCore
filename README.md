# AuthCore

AuthCore - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Django REST Framework –∏ PostgreSQL.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó:
+ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è django.contrib.auth)
+ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è, –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
+ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —Å —Ä–æ–ª—è–º–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
+ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç Post –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
+ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: 401 (Unauthorized) –∏ 403 (Forbidden)

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
+ –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```
git clone https://github.com/GGGamzat/AuthCore.git
cd AuthCore
```

+ –°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª .env —Å–æ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```
DB_NAME=db_name
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=localhost
DB_PORT=5432
```

+ –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ
#### Windows
```
python -m venv .venv
.venv\Scripts\activate
```
#### Linux
```
python3 -m venv .venv
source .venv/bin/activate
```

+ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
pip install -r requirements.txt
```

+ –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```
python manage.py migrate
```

+ –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```
python manage.py create_superuser --noinput
```

+ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
```
python manage.py runserver
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –¥–æ—Å—Ç—É–ø–∞
### –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞:
* –†–∞–∑—Ä–µ—à–µ–Ω–∏—è (Permissions)
    * view_posts - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–æ–≤
    * create_posts - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
    * edit_posts - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
    * delete_posts - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
    * access_admin_panel - –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-API
    * manage_users - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    * manage_roles - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏
    * manage_permissions - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
    * assign_roles - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π
* –†–æ–ª–∏ (Roles) - –≥—Ä—É–ø–ø—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
    * Admin - –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
    * Editor - view_posts, create_posts, edit_posts, delete_posts
    * Viewer - view_posts
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Users) - –∏–º–µ—é—Ç —Ä–æ–ª–∏
    * –ú–æ–≥—É—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–ª–µ–π
    * –ü—Ä–∞–≤–∞ —Å—É–º–º–∏—Ä—É—é—Ç—Å—è –∏–∑ –≤—Å–µ—Ö —Ä–æ–ª–µ–π
    * –ê–¥–º–∏–Ω—ã (is_admin=True) –∏–º–µ—é—Ç –≤—Å–µ –ø—Ä–∞–≤–∞

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å > [–†–æ–ª—å1, –†–æ–ª—å2] > [–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ1, –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ2, ...] > –î–æ—Å—Ç—É–ø –∫ –¥–µ–π—Å—Ç–≤–∏—é

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
* –ê–¥–º–∏–Ω—ã (is_admin=True) –æ–±—Ö–æ–¥—è—Ç –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
* –í–ª–∞–¥–µ–ª—å—Ü—ã –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ:
    * –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (401 –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞)
    * –†–∞–∑—Ä–µ—à–µ–Ω–∏–π (403 –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤)
    * –í–ª–∞–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–º (–≤–ª–∞–¥–µ–ª–µ—Ü –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
* POST /api/register/ - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
* POST /api/login/ - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
* POST /api/logout/ - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
* GET /api/profile/ - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* DELETE /api/delete-account/ - —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–º—è–≥–∫–æ–µ)

### üìù –ü–æ—Å—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
* GET /api/posts/ - –≤—Å–µ –ø–æ—Å—Ç—ã
* POST /api/posts/ - —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
* GET /api/posts/my/ - –º–æ–∏ –ø–æ—Å—Ç—ã
* GET /api/posts/{id}/ - –¥–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞
* PUT/PATCH /api/posts/{id}/ - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç
* DELETE /api/posts/{id}/ - —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç

### üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏:
    * GET /api/admin/permissions/ - —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
    * POST /api/admin/permissions/ - —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    * GET /api/admin/permissions/{id}/ - –¥–µ—Ç–∞–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
    * PUT /api/admin/permissions/{id}/ - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    * DELETE /api/admin/permissions/{id}/ - —É–¥–∞–ª–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏:
    * GET /api/admin/roles/ - —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π
    * POST /api/admin/roles/ - —Å–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
    * GET /api/admin/roles/{id}/ - –¥–µ—Ç–∞–ª–∏ —Ä–æ–ª–∏
    * PUT /api/admin/roles/{id}/ - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å
    * DELETE /api/admin/roles/{id}/ - —É–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å
* –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π:
    * GET /api/admin/user-roles/ - —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
    * POST /api/admin/user-roles/ - –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    * GET /api/admin/user-roles/{id}/ - –¥–µ—Ç–∞–ª–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
    * DELETE /api/admin/user-roles/{id}/ - —É–¥–∞–ª–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ